{% extends "base.html" %}
{% block title %}{{ strings.page_title }}{% endblock %}

{% block header_content %}
<div class="front-page-carousel-container">
    <div class="carousel slide" data-ride="carousel" data-interval="8000" id="frontPageCarousel">
        <!-- Indicators -->
        <ol class="carousel-indicators hidden-xs">
        {% for ix, slide in slides %}
            <li data-target="#frontPageCarousel" data-slide-to="{{ ix }}" class="lupa-carousel-indicator {{ loop.first ? 'active' : '' }}"></li>
        {% endfor %}
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
        {% for slide in slides %}
            <div class="item {{ loop.first ? 'active' : '' }} lupa-slide">
                {{ slide.get_html|raw }}
            </div>
        {% endfor %}
            <div class="carousel-caption lupa-slide-content">
            <h3><b>{{ strings.slideshow_caption_title }}</b></h3>
            <p>{{ strings.slideshow_caption_paragraph|nl2br }}</p>
            <a class="hidden-xs btn btn-lg btn-primary" href="{{ __base_uri }}/{{ __lang }}/contact">{{ strings.contact_us }}&nbsp;&raquo;</a>
        </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#frontPageCarousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#frontPageCarousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
{% endblock %}

{% block head_extra %}
<link rel="stylesheet" type="text/css" href="{{ __base_uri }}/lib/slick-1.6.0/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="{{ __base_uri }}/lib/slick-1.6.0/slick/slick-theme.css"/>
{% endblock %}

{% block content %}
<main>
    <div class="row">
        <div class="col-xs-12 col-lg-8 col-lg-offset-2 services-container">
            <div class="row">
                <div class="col-xs-4 col-md-5">
                    <hr class="brown services-title-line">
                </div>
                <div class="col-xs-4 col-md-2 text-uppercase text-center no-padding">
                    <div class="brown-gradient services-title"><h4><b>{{ strings.services_title }}</b></h4></div>
                </div>
                <div class="col-xs-4 col-md-5">
                    <hr class="brown services-title-line">
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-lg-8 col-lg-offset-2 services-container">
        {% for service in services %}
            {% include loop.index % 2 == 0 ? "service__text_left.html" : "service__text_right.html" %}
            <hr class="service-separator hidden-md hidden-lg">
        {% endfor %}
        </div>
    </div>
</main>
<script>
    !function($) {
        var update_service_boxes = function() {
            $(".service-text-inner").each(function() {
                var node = $(this);
                node.css("min-height", node.closest(".row").innerHeight() - parseInt(node.css("padding-bottom")) - parseInt(node.css("margin-bottom")));
            });
        };
        $(window).load(update_service_boxes);
        $(window).resize(update_service_boxes);
    }(jQuery);
</script>
{% endblock %}

{% block js_link %}
    <script type="text/javascript" src="{{ __base_uri }}/lib/slick-1.6.0/slick/slick.min.js"></script>
    <script src="{{ __base_uri }}/js/service-carousels.{{ __js_src_mode }}.js?v={{ __js_src_version }}"></script>
{% endblock %}
